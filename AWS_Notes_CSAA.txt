# Lines 1-233 were from the CSAA-01 class.

IAM is universal it does not apply to regions.

the root account is the master account full privigles.
new users have no permissions.
new users get an access key id and a secret access key when created.
access keys are only used for progromatic access.
the access key is only viewable once.
always set up multi-factor on the root account.
you can create an customize password policies.


IAM Policies:
    They are always implicitly denied.
    Evaluations are merged down (users, groups, roles) and evaluated.

IAM Users:
    Know the difference between users, roles, and Policies and when to use them.
    ARN = real identity. Applicable to users and roles.
    Inline Policies are applied under the permissions. (permissions Policies)
    Security Settings are where most relevant things are set.
    Exam-Tips:
        Hard limit of 5000 users per account.
        10 group memberships per IAM users.
        Default maximum of 10 managed policies per user.
        no inline limit but you cannot exceed 2048 character for all inline policies on a IAM user.
        1 MFA per user.
        2 access keys per user.

IAM Groups:
    Exam Tips
    Admin feature to group users.
    Inline policies can be added to groups and these flow down to the users.
    groups are not true identities and they can be referenced.
    Groups have no creds.

IAM Access Keys:
    access via CLI,API, and applications.
    its your responsibility to store the secret access key not AWS.
    you cant change or update the secret access keys.
    only 2 access keys per user, total inactive or active, only 2 total.
    they do not expire.
    you cannot use access keys to auth to the console.

IAM Roles:
    Overcomes limit of 5000 users.
    Why:
    Not for when you need it to log into something for example the console.  No passwords etc...

    Use for extra support: Give the option to elevate privigles to get into something. Give temp SU access.
    Use for service access: Maybe you want to access to something else, give an ec2 instance a role to access s3 to interact.
    Use for a merger of accounts.  Example you have bought another company and you want to access each others assets.
    use for multiple accounts in a company. 

AWS Organizations:
    Manage multiple accounts.
    consolidated billing.
    limit usage with service control policies
    In a organization tou can have Orginizational Units or AWS accounts.  Units can have AWS accounts or other OU's.
    You can apply control policies to OU's or AWS accounts.  
    The master account cannot have any policies it is best to leave it as just a master account and not have resources in it.
    OU's has a limit of 2 accounts, you can ask for more by going to support.

    Service control policies: 
        allows an limits what you can do on accounts.
        create the policy in the master account then you apply it to the account that you want it on.

    Role Switching:
        using a master account user to swap to other member accounts
        Need account number of member account.
        you need role name: OrganizationAccountAccess
        give it a display name: IE: DEV
        Pick a color.
        you can log in via other forms of identities.

EC2 Compute:
    Create a key part before you create the instance.
    select the ami type that you want aka the image.
    EC2 is used in typical server operations. Otherwise you may use serverless and or containers.
    If you shut down the instance in the console you are not billed but your EBS storage may still bill you.
    Terminate the instance to kill all billing.
    Doing a shut down from the terminal does not kill billing either.

    Storage:
        Instance store volumes do not move with the instances used for temp high performance things.
        EBS Volumes move with the instance and are persistent.
    Security Group:
        Basically virtual firewall
        Creates a ENI - Elastic Network Interface.
    Instance Types and Sizes:
        Families:
            General Purpose:
                Good balance CPU MEM ETC:
                Types:
                    A1, T3, T3a(AMD), T2, M5, M5a(AMD), M4

            Compute Optimized:
                Compute intensive, best CPU's avaialble.
                Maximum Performance CPU Wise.
                Types:
                    C5, C5n, C4

            Memory Optimized:
                Large Memory, usually like Databases and what not.
                Types:
                    R5, R5a, R4, X1e, X1, High Memory, z1d

            Storage Optimized:
                Super fast storage.
                NoSQL, Data Warehouse
                Types:
                    I3, I3en, D2, H1

            Acelerated Computing:
                Specific Hardware capability.
                FPGA's - Program hardware.
                GPU's -  3D modeling. etc..
                Types:
                    P3, P2, Inf1, G4, G3, F1
        Sizes:
            nano, micro, small, medium, large, xlarge, 2xlarge
        
        Special Cases:
            a = AMD
            A = ARM Based
            n = Higher Speed Networking
            d = NVME Storage

    EC2 Storage:
        Instance Storage: (Directly connected)
            Tempory, not resillient, destroyed if the instance moves.
        EBS Block Storage: (Network Based NAS)
            EBS stays in AZ Zones but not between.
            Snapshots are backups basically.
            EBS Encryption, encrypts the drives.
            Types:
                gp2 = SSD - Default, balance of iops/MiB/s - burst pool IPS per GB.
                io1 = SSD - Highest performance, can adjust size and IOPS separately.
                sc1 = HDD - lowest cost infrequent access, cant be a boot volume.
                st1 = HDD - Low cost throughput intensive, cant be a boot volume.
                Magnetic = Legacy and not really used.
            EBS Snapshots:
                point in time backup.
                subsequent snapshots only takes in the changes and adds it to the last.
                backup goes to s3 which backs up globally and gets replicated.
                you can automate it by using DLM Lifecycle Manager.
    Security Groups:
        Software Firewalls that are attached to a network interface. ENI - Elastic Network Interface.  
        5 security groups maximum for every ENI
        set of inbound and outbound groups.
        hidden implicent deny if no rules are matched.
        you cannot add denys to the security group.
        Security groups are stateful - any traffic allowed in/out the return traffic is auto allowed.
        you can reference aws resources and other security groups, even themselves.
    MetaData:
        http://169.254.169.254/latest/meta-data - Memorize this.. Use this to get information about the instance.
        http://169.254.169.254/latest/meta-data/ami-id
        http://169.254.169.254/latest/meta-data/instance-id
        http://169.254.169.254/latest/meta-data/instance-type
        

    AMI: (baked in getting something installed quickly)
        Instance Store AMI's, not backed by EBS. Rare
        EBS backed AMI's.
        AMI creates snapshots of the EBS Storage and references them when set up.
        It also carries over permissions.
        downside is its static, not dynamic.
    Bootstrapping: (dynamic to add certain things on demand)
        Giving a instance a series of commands to perform when its created.
        you can use a shell script (powershell or bash)
        you can also use cloudinit.. 

        Exam:  Its not one or the other bootstrapping can be done with AMI. 
    ENI, IP, DNS:
        Public Instance - has a public IP.
            accessible on the public internet.
            by default pub ip does not change when you reboot
            by default pub ip it will change when shut down.
            elastic ip address's: is a static IP address.

        Private Instance - only avaialble inside a vpc. Internal IP.
        Instances can have limits on private ips based on the size of the instance.
    Instance Roles:
        Type of IAM Role for EC2.
        Create a instance profile.. it allows you to access thigns like S3 and what not.
        Always use IAM roles when you can. Only time its nto required is when a user is required to login.
        Basically apply a permissions structure to an instance. limit it to certain assets.
    EBS Volume Encryption:
        Doing encryption does it both at rest and in transit.
        You can set it by default per region.
        Keys are stored in the KMS Service in the console.
        snapshots cannot be created unencrypted if it was created encrypted.  
        ami's will also be encrypted if created like that.
        It is handled by an EC2 host, it doesnt cause any performance hits.  The instance is unaware that there is any encryption happening.
    EBS Optimization:
        Created a storage path for data transfer. They used to be shared.
        Allows for more consistent utilization of both network and storage.
        Make sure you are using EBS optimization to get the performance benefit on smaller instances.
    Enhanced Networking:
        Enahnced Networking uses SR-4IOV, allows for better Networking as the hypervisor does not have to manage this.
        Better Latency.
    Placement Groups:
        Allows you to control physical location or where the EC2 instance runs from.
        Cluster PG = performance, limited to 1 availibility zone. They are physically close together.  Max performance.
            Exam:  Launch all your Instances at the same time and pick the same type.
        Partition PG = Launched into separate partitions (racks), if a single partition fails the other can pick it up.
            Used for larger deployments.
        Spread PG = Purely for availability. Designed for small infrastructure deployments.  Maximum availability.
    Billing Models:
        On demand  = default method. billed for every 60 seconds.
            when to use:
                Default or unknown demand.
                Anything in between reserved/spot.
                Short-term workloads that cannot tolerate interruption.
        Spot Billing = Bid on resources, they set the price based on demand. They can go up or down.  If the prices rises above what you bid the instance is terminated.
            Choose this for non critical workloads. Do not use for things that cannot tolerate failure.
            When to use:
                Bursty workloads.
                Cost critical, which can cope with interuption. 
        Reserved = lock in instances for a reduced rate for 1 or 3 years.
            Zonal or Regional reservations.
                Exam: Regional is more flexible but has no capacity reservation. (needs to be zonal in this case)
            When to use:
                When you have consistent loads.
                Known and understood growth.
                Critical systems/components.
        Dedicated hosts:
            Come with an assocatied hourly charge. 
            allows you to choose a number of instances onto a host. Each type can determine a different amount.
            When:
                Compliance - if it needs to be dedicated for security reasons.
                If you were bringing your own license like VMWare or something like that.


SAA-C02 Class Start:

S3: Simple Storage Service
    File storage.  Object storage - flat files word docs ect.  
    Data is spread across multiple devices and facilities.
    Files can be 0 bytes to 5 TB.
    files are stored in buckets.
    Names of buckets need to be unique globally.
    HTTP 200 code comes back when you create a bucket.  - TEST Question.
    Key: Name of the Object.
    Value: The data that is made up of a sequence of bytes.
    Version ID: Important for versioning.
    Consistency:
        Read after Write consistently for puts.  Can read it immediatley after uploading.
        Eventual consisitency for overwrite puts and deletes.  Update a file or delete it takes a bit to get the new version.
    Garauntee's
        99.99% availability for the S3 platform
        99.9% availability
        11 9's durability.
    S3 Features:
        Tiered Storage.
        Lifecycle management.
        Versioning.
        Encryption.
        MFA Delete.
        Secure your data with ACL's.
    S3 Standard:
        99.99 availability
        11 9's durability
        Stored redundantly across multiple devices in multiple facilities and is designed to sustain the loss of 2 facilities concurrently.
    S3 IA - Infrequently Accessed.
        Lower fee than S3 but you are charged a retrieval fee. 
    S3 oNE zONE IA
        no multiple availability zone resillient.
    S3 - Intelligent Tiering
        Designed to optimize cost. Moves your objects around your storage tiers automatically.
    S3 Glacier:
        Data Archiving. Hold on to it for a long time.
    S3 Glacier Deep Archive:
        Lowest cost but can take up to 12 hours to get your files.
    Billing for S3:
        Storage total.
        Number of Requests.
        Storage management pricing.
        Data Transfer pricing
        Transfer Acceleration.  Users cloud front to get moved quickly. Using the amazong backbone.
        Cross region replication. 
    S3 Security and Encryption:
        Buckets are private by default.
        ACL's go down to the object level.
        Buckets can be created to have logs put in various other buckets.
        Encryption Types:
            In Transit: SSL/TLS - browsing.
            At Rest - Encrypt it being as its being stored. 
                Server side - S3 managed Keys - SSE-S3 amazon managed.
                    AWS Key Managment Service.  - KMS
                    Server side encryption with customer provided keys.
                Client side - encrypt it on our pc and send up to S3.


Exam Tips:

S3:
    Remember S3 is Object-based: allows you to upload files.
    Files can be 0 to 5TB.`
    Unlimited Storage
    Files are stored in buckets.
    Universal name space = unique name globally is needed.
    creates a DNS name when the bucket is created.  https//bucketname.s3.amazonaws.com (N Virginia) https//bucketname.eu-west-1.amazonaws.com (Europe west)
    Not sutitable for an operating system on.
    successful upload gives you a 200 status code.
    You can turn on MFA delete to protect assets from being deleted.
    Key Fundamentals:
        Key: Name of the Object.
        Value: The data that is made up of a sequence of bytes.
        Version ID: Important for versioning.
        MetaData
        Subresources;
            access control lists - permissions.
            Torrent
    Read after Write consistently for puts.  Can read it immediatley after uploading.
    Eventual consisitency for overwrite puts and deletes.  Update a file or delete it takes a bit to get the new version.
    S3 Teired structure above = s3 standard - S3 = IA - S3 one zone IA (RRS) - S3 Intel Tiering - Glacier - Glacier Deep Archive.
    Read S3 FAQ - S3 comes up a lot on the exam.
    Storage Tiers: ( from most expensive to least)
        S3 Standard - Most expensive.
        S3 - IA 
        S3 - Intelligent Tiering - Use this one as it will move you objects if they are not used.  Not if you hae a lot monitoring of object.sutitable.
        S3 - One Zone IA
        S3 - Glacier
        S3 - Glacier deep archive.
    Versioning:
            Stores all versions of an objects even if you delete.
            great backup tool
            once enabled you cannot disable it only suspend.
            integrates with lifecycle rules.
            you can use MFA delete with it to add an additional layer of security.
    Lifecycle Rules:
        Automates moving your objects between the different storage tiers.
        Can be used in conjunction with versioning.
        can be applied to current and past versions.
    S3 Object Lock:
        Stores objects using a write once read many model (WORM)
        Object locks can be individual objets or applied across the bucket as a whole.
        Object locks have 2 modes: 
            governance mode (users can't overwrite or delete an object version or alter its lock settings unless they have special permissions.)
            compliance mode (cannot be deleted by anyone not even root.)
    S3 Glacier Vault Lock:
        allows to enforce compliance controls for individual S3 glacier vaults with a vaults lock policy.
    S3 Performance:
        S3 Prefixes:  bucketname/subfolder/subfolder2/superbowl.jpg  Prefix is the middle bit - /subfolder/subfolder2/  
        You get better performances spreading over different prefixes.
        The more prefixes you have the better the performance.
        You get 3500 PUT/COPY/POST/DELETE requests per prefix and 5500 GET/HEAD requests per prefix.
        KMS Encryptions can cause some limits on your performance.  There is a KMS Quota. 5500, 10,000, or 30,000 requests per second with KMS.
        You cannot request a KMS quota increase.
        Multipart uploads increase performance.
            recommended for files over 100MB
            required for files over 5GB
            paralleize uploads (this it was it does)
        Downloads:
            USes S3 Byte-Range Fetches:
            basically paralleizes the download as well.
    S3 Select:
        Uses SQL to retrieve you can increase your performance by 400%
        You pull down only a subset of the data you need.
        get data by rows or columns
    Glacier Select:
        Same concept of S3 Select. Run SQL queries directly on Glacier.
    AWS Organizations and Consolidated Billing:
        Allows you to consildate multiple accounts into one orgainization.
        Consilidated Billing:
            Aggregate of all of your accounts - breaks up the billing to individual teams.
        Always enable multi factor authenticaiton on root account.
        Always use a strong and complex password on root account.
        paying account should be used for billing purposes only.  Do not deploy resources into the paying account.
        enable/disable AWS services using Service Control Policies (SCP) either on OU or on individual accounts
    Cross account s3 buckets:
        3 ways to share s3 buckets across accounts.
            Using bucket policies & IAM (applies across the entire bucket) - programatic access only.
            Using bucket ACLs and IAM (individual objects) Programatic access only
            Cross-account IAM roles - programatic and Console access.
    Cross Region Replicaiton:
        Versioning must be enabled on boththe source and destination buckets.
        files in an existing bucket are not replicated automatically     
        all subsequent updated files will be replicated automatically.
        delete markers are not replicated
        deleting individual version or delete markers will not be replicated.
        understand what cross region replicaiton is at a high level.
    S3 Transfer Acceleration:
        Uses cloudfront edge network to accelerate your uploads to S3.  Use a distinct URL to upload directly to a edge location which will
        then transfer that to S3.  example URL: acloudguru.s3-accelerate.amazonaws.com
    AWS Data Sync:
        used to move large amounts of data from on-premises to AWS.
        used with NFS and SMB compatible file systems.
        replicaiton can be done hourly daily or weekly.
        It uses an agent on the host.
        can be used to replicate EFS to EFS.
    CloudFront:
        basically a CDN Network a system of distributed system that delivers webpages and other contents.  It essentially takes a copy from a local server and 
            sends it to another edge location so that it is closer to the users.
        Edge Location - The locatin where the content will be cached.  This is separate to an AWS Region/AZ.
        Origin - This is the origin of all the files that the CDN will distribute.  This can be either an S3 bucket, an EC2 Instance, an Elastic Load Balancer or Route 53.
        Distribution - This is the name given the CDN which consists of a collection of Edge Locations.
        Web Distribution - Used for Websites.
        RTMP - Used for Media Streaming.
        Edge locations are not just read only.  You can write to them too.
        Objects are chached for the time to live - TTL 
        You can clear cached objects, but you will be charged.
        URLs and Signed Cookies:
            Use signed URLs/cookies when you want ot secure content so thatonly the people you authorize are able to access it.
            A signed URL is for individual files.  1 file = 1 URL.
            A signed cookies is for multiple files.  1 cookie = multiple files.
            If your origin is EC2 then use CloudFront - If your origin is s3, you would use a S3 signed url.
    SnowBall:
        External casing that handles large volumes of data for export / import.
        Imports to S3 and Exports from S3.
    Storage Gateway:
        Files Gateway: NFS for flat files, stored directly on S3
        Volume Gateway:
            Stored Volumes - Entire Dataset is stored on site and is asynchronously backed up to S3.
            Cached Volumes - Entire Dataset is stored on S3 and the most frequently accessed data is cached on site.
        Gateway Virtual Tape Library:  
    Athena vs. Macie:
        Athena allows you to query S3 via SQL.
        Its serverless, pay per query / per TB scanned.
        Works directly with data stored in S3.
        can be Used to query log files, ELB logs, S3 access logs.
        Generate business reports.
    Macie: PII Discovery tool (personally identifiable information)
        Security services that uses machine learining to discover, classify and protect sensitive data.
        AI to recognize if your S3 ojbects that contain sensitive data. 

EC2 - Elastic Cloud Compute - SAA-C02 (Exam Tips)
    EC2 Instance type - Mnemonic
        F - For FPGA
        I - For IOPS
        G - For Graphics
        H - High Disk throughput
        T - Cheap General purpose (think t2 micro)
        D - For Density
        R - For RAM
        M - Main choice for general purpose applies
        C - For Compute.
        P - Graphics (think pics)
        X - Extreme Memory.
        Z - Extreme Memory AND CPU
        A - Arm-based workloads
        U - Bare Metal

        Fight Dr. Mc Pxz Au

    Pricing Types:
        On Demand = pay a fixed rate by the hour or by the second with no commitment.
        Reserved = Provides you with a capacity reservation and offers a significant discount. Contract 1 or 3 years.
        Spot - Bid, has flexible start and end times.
            Spot -  If amazon terminates it you are not charged for partial hour of usage.  If the user terminates you will be charged for any hour.
        Dedicated Hosts - typically used when you need to use existing server bound licenses.
    
    Termination protection is turned off by default, you must turn it on.
    On an EBS-backed instance the default action is fo the root EBS is deleted.  The added drives are not deleted by default.
    EBS root volumes of your default ami's can be encrypted. You can also use 3rd party tools like bit locker. or do it when creating the AMI via the console or API.
    additional volumes can be encrypted.
    
    Security Groups:
        All Inbound traffic is blocked by default.
        all outbound traffic is allowed.
        Security group changes take immediatley
        You can any number of ec2 instances within a security group.
        you can have multiple security groups attached to EC2 instances.
        security groups are statefull - you dont have to enable outbound if you have it oubound.
        you cannot block specific ip addresses you use network access control lists.
        you can specify allow rules but not deny.
    EBS: (Elastic Block Store)
        Think of EBS as a virutal hard disk.  Volumes exist on EBS.
        Snapshots stored on S3.
        Snapshots are point in time copies of volumes.
        Snapshots are incremental.  Only blocks that are changed get updated when you take a second snapshots.
        First snapshot takes some time.
        Stop the instance before taking a snapshot as a best practice.  You can do it while it is running.
        You can create AMI's from snapshots.
        You can change EBS volumes on the fly, including the storage and type.
        Volumes will ALWAYS be in the same availability zone as the EC2 Instance.
        To move your image to another region you can create a snapshot then you can create an AMI then use that image by copying it and then re-launch into another region.
        You can do the same with the availability zone, just create the snapshot then create an AMI and relaunch.
        General Purpose SSD - API = gp2
            Used for most workloads good balance.
        Provisioned IOPS SSD - API = io1
            Used for Databases and mission critical apps.
        Throughput Optimized HDD - API = st1
            Used for Big Data and Data Warehouses.
        Cold HDD - API = sc1
            Good for File servers.
        EBS Magnetic - API = Standard
            Workloads that are Infrequently accessed.
        AMI Types: EBS vs Instance Store
            You can select your AMI based on:
                Region
                Operating System.
                Architecture
                Launch Storage for the Root Device
            Instance Store volumes are somtimes called Ephemeral Storage.
            Instance store volumes cannot be stopped.  If the underlying host fails, you will lose your data.
            EBS can be stopped
            you can reboot both types.
            by default both root volumes will be deleted on termination.  With EBS volumes you can tell AWS to keep the root device.
    ENI vs. ENA vs. EFA: 
        ENI:
            Elasitc Network Interface - essentially a virtual network card.
            For basic networking. Perhaps you need a separate management network to your prod network or a separate logging network.
            In this scenario use Mulitple ENI's for each network.
        EN:
            Enhanced Network:
            For when you need speeds between 10Gbps and 100Gpbs.  anywhere you need reliable high thorughput.
        EFA: 
            Elastic Fabric Adaptor
            For when you need high performance computing (HPC) and machine learning applicaitons or if you need to do an OS by-pass.
            If you see a scenario question mentioning HPC or ML u want to use EFA.
    Encrypted Root Device Volumes and Snapshots:
        Snapshots of encyrpted volumes are encrypted automatically
        volumes restored from encrypted volumes are also encrypted.
        you can share snapshots but only if they are unencrypted
        You can now encrypt when you build.
        If you want to encrypt a unencrypted volume.  Create snapshot, then copy the snapshot and select the encrypt option. Then make an AMI from that.
    Spot instances and spot fleets:
        Spot Instances:
            You bid on these and when the your high price gets eclipsed then your instances will terminate.
            Can save you up to 90% of the cost on On-Demand instances.
            Usefull when you don't need persistent storage.
            You can block spot intances from terminating by using spot block.
        Spot Fleet:
            is a collection of spot instances and optionally on-demand instaces.
    EC2 Hibernate:
        A way to stop the instance but retain the memory onto the root volume. Doing a hibernate allows the instance to start up quicker after shut down hibernate.
        Good for processes/applications that take a long time to start up.
        No reload of the operating system.
        Instance RAM must be less than `150gb
        Instance families include c3, c4, c5, m3, m4, m5, r3, r4, and r5.
        available for windows, amazon linux 2 AMI, and ubuntu.
        instances cannot be hibernated for more than 60 days.
        Available for on-demand instance and reserved instances.
    Cloud Watch:
        Used for monitoring performance.
        CloudWatch can monitor most of AWS as well as your appications that run on AWS.
        It runs at 5 min by default but you can do 1 min with detailed monitoring.
        CloudWatch alarms can be created and will send notifications and alerts.
        CloudWatch is all about performance stats. Cloud trail is about auditing.. 
        You can create dashboards to see what is happening with your AWS environment.
        Logs, cloudwatch helps you aggregate, monitor and store logs.
    AWS Command Line:
        Used to provision resources from command line.
        you need to set up access i IAM
        some basic commands can be helpful to know.
    IAM - Roles
        Roles are more secure than storing your access key and secret access key on the instance.
        Roles are easier to manage.
        Roles can be assigned after its created. With the command line or the console.
        Roles are universal you can use them any region.    
    Bootstrap Scripts:
        Way of automating stuff when your instance first boots.
        you can create a little script that starts when spun up.  Install httpd move a file to a bucket or create a bucket etc..
    Instance Metadata:
        use to get info about the instance, such as public ip etc...
        the address is 169.254.169.254 - to get a list of commands do curl http://169.254.169.254/latest/meta-data
        user-data flag will spit out your boot strap script.
    EFS - Elastic File System.
        It allows you to grow your file system as you add and remove files. 
        Great for file servers.
        Great way to share files between servers.
        supports nfs4 protocol
        you only pay for what you use
        can scale up to petabytes
        can support thousands of concurrent nfs connections
        data is stored across multple AZ's within a region.
        Read after write consistency
    Amazon FSx for Windows and Lustre:
        Windows File Server
        Designed for Windows Applications.
        Supports AD users Access control groups and security policies along with distributed file system DFS name spaces and replications.
        Its based on SMB, where the EFS is on NFS.
        If a question comes up about SMB and what file system to use, choose FSX.
            Lustre:
                For large workloads, high performance computing.  Big Data. 
        Exam Tips:
            EFS:
                when you need distributed highly resilient storage for Linux instances and Linux-based applications.
            Amazon FSX for windows:
                When you need centralized storage for windows apps like sharepoint, MSSQL Server, Workspeaces, IIS Web Server.
            Amazon FSx for Lustre:
                when you need high-speed, high capacity distributed storage. This will be for apps that do high performance compute. 
                FSx for lustre can store data on S3.
    EC2 Placement Groups:
        3 types of placement groups:
            Name must be Unique.
            Only certian types of instances can be Launched in a placement group (compute Optimized, GPU, Memory Optimized, Storage Optimized)
            AWS recommends homogenous instances within clustered placement groups.
            you cant merge placement groups.
            You can move an existing instance into a placement group. Before you move it, it must be in a stopped state. You must create a AMI and launch it in the placement group. 
                Right now you can only do this via the CLI or AWS SDK no console. 
            Clustered placement group:
                Low Network latency high network throughput.  These are close to each other. Same AZ / Same Region.
                These cannot span multiple availability zones.
            Spread Placement Groups:
                Individual Critical EC2 Instances separated on hosts.
                Can span multiple availability zones. (have to be in same region)
            Partitioned:
                Multiple EC2 instances but separated hosts. Good for HDFS, HBase, and Cassandra.
                Can span multiple availability zones. (have to be in same region)
    HPC on AWS:
        High performance Compute:
            Achieve HPC on AWS through:
            Data Transfer
                Move large data into AWS via the following:
                    Snowball or Snowmobile
                    AWS Data Sync on S3, EFS, FSx for windows etc..
                    Direct connect
            Compute and networking:
                Ec2 instances that are GPU or CPU optimized.
                EC2 Fleets (spot instances or spot fleets)
                Placement Groups (cluster placement)
                Enahanced networking single root I/O virtualization (SR-IOV)
                Elastic Network Adapters or Intel 82599 Virtual Function (VF) Interface.
                Elastic Fabric Adapters
            Storage:
                Instance attached storage:
                    EBS - scale up to 64,000 IOPS with Provisioned IOPS (PIOPS)
                    Instance Storage: Scale to millions of IOPS; low latency.
                Network Storage:
                    Amazon S3: distributed object-based storage; not a file system.
                    Amazon EFS: Scale IOPS based on total size or use provisioned IOPS
                    Amazon FSx for Lustre: HPC-optimized distributed file system; millions of IOPS, which is also backed by S3.
            Orchestration and Automation:
                2 types:
                    AWS Batch
                    AWS Parallel Cluster.
    AWS WAF:
        WEb Application firewall.
        AWS WAF is a web application firewall that helps protect your web applications or APIs against common web exploits that may affect availability, compromise security, or consume excessive resources.
            It gives you ways to block or allow at layer 7.
            Exam Tips: 
                You will be asked in various scenarios how you will block a malicious IP address.
                    Use AWS WAF
                    Use Network ACLs

Databases:
    RDS has two key features: (mysql, aurora, sql, postgres, oracle, mariadb ect...)
        Multi AZ for disaster recovery
        Read Replicas for performance
    Non Relational DBs: (Dynamo DB, json / nosql)
        Collection = Table
        Document = rows
        Key Value Pairs = Fields or columns
    Redshift is the data Warehouse solotions (OLAP)
        Used for business intelligence or data warehousing
    Elasticache: (caches certian aspects of the DB to memory)
        Used to speed up performance, frequent identical queries.
        Memcached
        Redis
    RDS Runs on virtual machines - exam topic
    You have no access to those virtual machines. - exam topics
    patching of the RDS instance is amazon's responsibility.
    RDS is NOT serverless. Aurora is the exception to this rule.
    
    Backups, Multi-AZ & Read Replicas:
        Backups:
            Two different types of backups for RDS:
                Automated 
                Database Snapshots
        Read Replicas:
            Can be multi AZ - exam
            used to increase performance. - exam
            must have backups turned on
            can be in different regions
            can be MySQL, PostGres, MariaDB, Oracle, Aurora.
            Can be promoted to master, this will break the Read Replica.
        Multi-AZ:
            Used for Dr only
            You can force a failover from one AZ to another by rebooting the RDS instances.
        Encryption at rest is supported for MySQL, Oracle, SQL Server, PostGres, MariaDB and Aurora.
        Encryption is done using the AWS Key Management Service (KMS)
        Once your RDS instance is encrypted the data stored at rest is encrypted as are automated backups, read replicas and snapshots.    
    Dynamo DB: (amazons no SQL DB)
        Stored on SSD
        spread across 3 geographically distinct data centers.
        Reads:
            eventual consistent reads (default)
                1 second reads - best read performance.
            strongly consistent reads
                Less than 1 second reads
        Advanced Dynamo DB Features: (Review this again)
            DAX: DynamoDB Accelerator

            Transactions:

            On-Demand Capacity:

            On-Demand Backup and Restore:

            Point in Time Recovery:

            Streams:

            Global Tables
                Managed Multi-Master, Multi-Region replication
            
            Database Migration Service (DMS):

            Security:
    Redshift:
        Redshift is used for business intelligence.
        ONly available in one AZ
        backups are enabled by default with a retention of 1 day.
        MAximum retention is 35 days.
        Redshift always attempts ot maintain at least 3 copies of your data. Original - Replica on the compute nodes and a backup in S3.
        redshift can also asynchronously replicate your snampshots to S3 in another region for DR.
    Aurora:
        Amazon's RDS DAtabase.
        Its a MySql / PostGreSQL compatibile.  Its much more reliable, more like open source.
        5 x better performance than MySQL  / 3x better than postgres.
        2 copies of your data are contained in each availability zone, with minimum of 3 AZ - 6 copies of your data.
        you can share aurora snapshots with other AWS accounts.
        3 types of replicas avialable. Aurora, MySQL, PostgresQL replicas. Automated failover only available with Aurora.
        Aurora has outomated backups on by default. you can also take snapshots.
        Use Aurora serverless if you want a simple cost effective options for infrequent, intermittent, or unpredictable workloads.
    Elasticache:
        Use Elasticache to increase database and web application performance.
        It uses Memchached and Redis to cache queries
        Redis is multi AZ
        you can do backup sand restores of redis.
    Database Migration Services (DMS)
        Cloud service used to migrate relation databases, data warehouses, NoSQL databases, and other types of data stores.
        You can migrate like for like databases or non like for like (mySQL --> Aurora)
        The source can be on premises or inside of AWS itself and or another cloud service like AZure.
        If you do a heterogeneous (non like for like) you need SCT (AWS Schema Conversion Tool)
    Caching Strategies on AWS:
        You need to know what services have caching capabilities.
            CloudFront
            API Gateway
            ElastiCache - Memcached and redis
            Dynamo DB Accelerator or DAX
        Caching is a balancing act between up to date accurate information and latency.     
    EMR - Elastic Map reduce
        Big Data - Start to think about AMR.
        EMR is used for big data processing
        consists of a master node, a core node and optionally a task node.
        by default log data is stored on the master node.
        Exam Topic: you can configure replication to S3 every 5mi for all log data fromthe master node.  You have to do this when you set it up.

Advanced IAM:
    AWS Directory Service:
        Family of manged services.
        Connect AWS resources with on premises AD
        Stand Alone directory in the cloud
        Use existing corporate credentials.
        SSO to any domain-joined EC2 instance.
    AWS Managed Microsoft AD:
        AD Domain controllers DCs running windows server.
        Reachable by applications in your VPC.
        Add more DC's for HA and performance.
        Exclusive access to DCsExtend existing AD to on-premises using AD Trust.
        Aws manges:
            Mulit AZ deployment is taken care of
            patch monitor and recovery
            instance rotation
            snapshot and restor.
        Customer manages:
            Users, groups GPO's
            Standard AD tools
            scale out DC's
            Trusts
            Certificate authorities.
            Federation
    Simple AD:
        Stand alone managed directory
        basic ad features
        small <= 500; Large <= 5,000 users.
        Easier to manage EC2
        Linux Workloads that need LDAP.
        Does not support trusts so you can't join on premises AD
    AD Connect:
        Used when you want to use your on prem AD its a proxy to your on prem.
    Cloud Directory:
        directory based store for developers.
        uses cases - Org charts, course catalogs, device registries.
        fully managed service.
    Amazon Cognito User Pools:
        managed user dirctory for SaaS applications
        used for sign up and sign in for web or mobile apps
        works with social media identities - for example log in with Google
    Exam Tips:
        Which are AD compatible vs non ad compatible.
        AD Compatible:
            Managed Microsoft AD
            AD connector
            Simple AD
        Non AD compatible:
            Cloud Directory
            Cognito User Pools    
    
    IAM Policies:
        ARN - Amazon resource Name:
        example: arn:partition:service:region:account_id  (will end with a resource type)
        Real Examples:   
            arn:aws:iam::123456:user/mark  (when you have multipe colons in a spot and data is omitted its not applicable)
            arn:aws:s3:::my_awesome_bucket/image.png  (no region or account needed here)
            arn:aws:ec2:us-east-1:1234567:instance/* (EC2 instance in US East account number all resources..)
        IAM Policies:
            Json document that defines permissions.
        Identy Policies:
            attached to a iam group user or role. permissions.
        Resource policies:
            attached to resources like EC2.
            No effect unless attached.
        Exam Tips:
            Not explicitly allowed == implicitly denied.  You have to allow the action in the policy or it is denied.
            Explicity deny > than everything else. 
            only attached policies have an effect.
            AWS joins all applicable policies.
            Under stand AWS managed vs customer managed policy.
        Permission boundaries:
            used to delegate admin to other users.
            contorls the maximum permissions an IAM policy can grant.
            Use Cases:
                developers creating roles for Lambda functions
                Application owners creating roles for EC2 instances.
                Admins creating ad hoc users.
                For instance you can give admin access to everything but then lock it down to something more specific by doing a permission boundry. 
                    Admin Access
                    --> Apply boundry of DynamoDB full access.. user now only has access to dynmo db access.
        AWS Resource Access Manager (RAM):
            allows resource sharing between accounts.
            Available resources to share:
                App Mesh 
                Aurora
                CodeBuild
                EC2
                EC2 Image Builder
                License ManagerResource Groups
                Route 53
            Example you want to share a database between two accounts.  You can share the DB in account 1 via R.A.M and then in account 2 accept the invitation and then you have access to this DB.
        AWS Single Signon -SSO:
            Central management of your accounts.  
            Use existing corporate accounts.
            Interacts with AD and or Google / office 365
            if you see SAML 2.0 in a Question think about SSO as an answer.
Route 53: (DNS)
    Elastic Load balancers do not have a pre-defined IPv4 address; you resolve them using a DNS name.
    Understand the difference between a A record and a C name.  
        If given a choice always choose an Alias Record over a CNAME.
    DNS Types:
        SOA records (start of authority)
        NS records (Name server that holds the information)
        A records (Address record)
        CNAMES (Pointer to another record eg - mobile.cat.com as well as www.cat.com)
        MX records (Mail)
        PTR Records (the reverse look an up and get a DNS name)
    You can buy domains directly from AWS
    It can take up to 3 days to register depending on the circumstances.
    Routing Policies in Rt53:
        Simple Routing
            Only one A record with multiple IP addresses. AWS picks the IP to return to the user randomly.
        Weighted Routing
            A record in which you create a percentage of traffic. for instance you set 10 to send 10% of traffic.
            You create an individual record for each IP you have and it will add up to 100% of Traffic.
        Latency-based Routing
            AWS checks the latency to your two instances behind rt 53 and chooses the best latency.
        Failover Routing
            For active / standby setups.  Rt53 senses when the active goes down and fails it over to the secondary afterwards.
        Geolocation Routing
            Checks where the users are and send them to specific instances. EU users should go to EU / US users go to US. 
        Geoproximity Routing (traffic flow only)
            Routes traffic based on the geographic location of your users AND resources. You can also choose to route more traffic or less to a given resource by specifying a value known as bias.
            To use this you mustuse rt54 traffic flow.
        Multivalue Answer Routing
            Same as Simple routing but allows to put health checks on your resources and will only return healthy targets.
            Simple routing but with health checks.
        Health Checks:
            You can set a health check on individual record sets
            If it fails it will be removed from rt53 until it passes the health check.
            you can set sns notificaitons to alert you if a health check is failed.
VPC:
    Think of VPC as a logical data center in AWS
    Consists of IGWs or virtual private gateways, route tables, network ACLs, Subnets and Security Groups.
    1 Subnet = 1 availability zones
    Security Groups are Stateful; Network Access control lists are stateless
    No Transitive Peering.
    
    When you create a VPC the following are created automatically:
        Route Table, Network Access Control List, and a default security group.
    No subnets are created nor will it create an internet gateway.
    US-East 1 in your aws account can be different than anothers.
    Amazon always reserver 5 IP addresses with you subnets. 1 for your router etc..
    You can only have 1 internet gateway per VPC
    Security groups can't span VPCs
    

            













            

          










        




